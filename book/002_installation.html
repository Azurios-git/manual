<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tamarin Prover Manual</title>
    <link rel="stylesheet" type="text/css" href="book.css">
    <script src="book.js"></script>
    <link rel="stylesheet" href="styles/github.css">
<!--    <script src="highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
-->
    </head>
<body class="tamarindoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->
  <div id="nav">
    <button id="toggle-nav">
    <span class="sr-only">Toggle navigation</span>
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
    </button>
  </div>
  <div id='toc' class='mobile-hidden'>
  <ul class='chapter'>
<!-- <li><a href='000_prelims.html'                    ><b>0. </b>Preliminaries</a></li> -->
<li><a href='001_introduction.html'               ><b>1. </b> Introduction</a></li>
<li><a href='002_installation.html'               ><b>2. </b> Installation</a></li>
<li><a href='003_example.html'                    ><b>3. </b> First Example</a></li>
<li><a href='004_cryptographic-messages.html'     ><b>4. </b> Cryptographic Messages</a></li>
<li><a href='005_protocol-specification.html'     ><b>5. </b> Protocol Specification</a></li>
<li><a href='006_property-specification.html'     ><b>6. </b> Property Specification</a></li>
<li><a href='007_precomputation.html'             ><b>7. </b> Precomputation</a></li>
<li><a href='008_modeling-issues.html'            ><b>8. </b> Modeling Issues</a></li>
<li><a href='009_advanced-features.html'          ><b>9. </b> Advanced Features</a></li>
<li><a href='010_case-studies.html'               ><b>10.</b> Case Studies</a></li>
<li><a href='011_toolchains.html'                 ><b>11.</b> Toolchains</a></li>
<li><a href='012_limitations.html'                ><b>12.</b> Limitations</a></li>
<li><a href='013_contact-and-further-reading.html'><b>13.</b> Contact Information and Further Reading</a></li>
<li><a href='014_syntax_description.html'         ><b>14.</b> Syntax Description</a></li>
  </ul>
  </div>
  <div id='page-wrapper'>
    <div id='page'>
<p class="halfbreak">
</p>
<h1 id="sec:installation">Installation</h1>
<p>We explain below how to install Tamarin on different operating systems: <a href="#sec:linux">Linux</a>, <a href="#sec:macosx">Mac OS X</a>, and <a href="#sec:windows">Microsoft Windows</a>.</p>
<h2 id="sec:linux">Linux</h2>
<p>To run Tamarin on Linux, a number of dependencies must be installed, namely GraphViz and Maude 2.7. You can install GraphViz using your standard package manager or directly from <a href="http://www.graphviz.org/" class="uri">http://www.graphviz.org/</a>. You can also install Maude using your package manager. However, if your package manager installs Maude 2.6, then you must install version 2.7.1, <a href="http://maude.cs.illinois.edu/w/index.php?title=Maude_download_and_installation#Core_Maude_2.7.1">Core Maude 2.7.1</a>, directly from <a href="http://maude.cs.illinois.edu/" class="uri">http://maude.cs.illinois.edu/</a>. In this case, you should ensure that your <code>PATH</code> includes the install path, so that calling <code>maude</code> starts version 2.7.1. Note that even though the Maude executable is movable, the <code>prelude.maude</code> file must be in the same folder that you start Maude from.</p>
<p>Once these dependencies have been installed, you can then compile Tamarin from source, using either the stable master or current development version.</p>
<h3 id="compiling-from-source">Compiling from source</h3>
<p>To help compile Tamarin from source, we manage Haskell dependencies automatically using the tool <code>stack</code>. You must first install <code>stack</code>, following the instructions given at <a href="https://github.com/commercialhaskell/stack/blob/master/doc/install_and_upgrade.md">Stack's install page</a>.</p>
<p>After running <code>git clone</code> on the Tamarin repository, you have the current development version ready for compilation. If you would prefer to use the master version, just run <code>git checkout master</code>. In either case, you can then run <code>make default</code>, which will install an appropriate GHC (the Glasgow Haskell Compiler) for your system, including all dependencies, and the <code>tamarin-prover</code> executable will be copied to <code>~/.local/bin/tamarin-prover</code>. Note that this process will take between 30 and 60 minutes, as all dependencies (roughly 120) are compiled from scratch. If you later pull a newer version of Tamarin (or switch to/from the <code>master</code> branch), then only the tool itself needs to be recompiled, which takes a few minutes, at most.</p>
<p>Continue as described in Section <a href="#sec:running-tamarin">Running Tamarin</a> to run Tamarin for the first time.</p>
<h2 id="sec:macosx">Mac OS X</h2>
<h3 id="sec:MacOSBinInstall">Automatic Installation of the Tamarin binary</h3>
<p>The fastest way to install Tamarin on Mac OS X is to use <a href="http://brew.sh/">Homebrew</a> <a href="https://caskroom.github.io/">Cask</a>.</p>
<p>If you already have this installed, it is as simple as running the following two commands in your terminal:</p>
<ul>
<li><code>brew update</code></li>
<li><code>brew cask install tamarin-prover</code></li>
</ul>
<p>You can now run Tamarin from the command line by typing <code>tamarin-prover</code>. Continue as described in Section <a href="#sec:running-tamarin">Running Tamarin</a> to run Tamarin for the first time. (Warning: the previous stable version of Tamarin (v1.0.0) does not realize that Maude v2.7.1 is more than sufficient; it will currently give you a warning when you run <code>tamarin-prover test</code> but it is safe to ignore this.)</p>
<h4 id="installing-homebrew-cask">Installing Homebrew &amp; Cask</h4>
<p>If you don't have Homebrew and/or Cask installed:</p>
<ol style="list-style-type: decimal">
<li><p>Install <a href="http://brew.sh/">Homebrew</a>, by following the instructions on their website (this is a one-line copy paste install). Update everything with: <code>brew update</code>. Any issues, run <code>brew doctor</code> for more information.</p></li>
<li>Install Tamarin: <code>brew cask install tamarin-prover</code>
<ul>
<li>If for any reason this doesn't work, you might have to 'tap' (add) Homebrew <a href="https://caskroom.github.io/">Cask</a> manually. This is currently achieved by <code>brew tap caskroom/cask</code>, but might change. Check <a href="https://caskroom.github.io/">the website</a> for the latest instructions.</li>
<li>Tamarin's dependencies Maude and GraphViz are automatically installed and added to your path.</li>
</ul></li>
<li><p>You can now run Tamarin from the terminal by typing <code>tamarin-prover</code></p></li>
</ol>
<p>That's it! Homebrew will automatically update Tamarin when new versions are released, if you <code>brew update</code> on a semi-regular basis.</p>
<p>For reference, Homebrew will place a symlink to the binary in <code>/usr/local/bin/tamarin-prover</code>, but you should never need to touch this. To uninstall, just <code>brew cask remove tamarin-prover</code>, and if you want, also remove <code>maude</code> and <code>graphviz</code>, two dependencies which are automatically installed with Tamarin.</p>
<h3 id="installing-tamarin-from-sources">Installing Tamarin from sources</h3>
<ol style="list-style-type: decimal">
<li>To compile Tamarin, you need the Haskell tool <a href="https://github.com/commercialhaskell/stack/blob/master/doc/install_and_upgrade.md#manual-download-1">stack</a>. To run Tamarin you need <a href="http://maude.cs.illinois.edu/w/index.php?title=Maude_download_and_installation">Maude 2.7</a> and <a href="http://www.graphviz.org/Download.php">GraphViz</a>. You can download these tools from their respective sites. Alternatively, you can use either the <a href="https://www.macports.org">MacPorts</a> or <a href="http://brew.sh">Homebrew</a> package managers.</li>
</ol>
<ul>
<li><p>For MacPorts:</p>
<pre><code>  sudo port install maude graphviz</code></pre></li>
</ul>
<p>The Haskell tool <code>stack</code> is not in the MacPorts repository and must be installed by following the instructions at <a href="https://github.com/commercialhaskell/stack/blob/master/doc/install_and_upgrade.md" class="uri">https://github.com/commercialhaskell/stack/blob/master/doc/install_and_upgrade.md</a>.</p>
<ul>
<li><p>For Homebrew:</p>
<pre><code>  brew install homebrew/science/maude graphviz haskell-stack</code></pre></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><p>Clone the <code>tamarin-prover</code> repository by typing</p>
<pre><code>  git clone https://github.com/tamarin-prover/tamarin-prover.git</code></pre>
<p>or download the source files from <a href="https://github.com/tamarin-prover/tamarin-prover/archive/develop.zip" class="uri">https://github.com/tamarin-prover/tamarin-prover/archive/develop.zip</a>.</p></li>
<li><p>Build Tamarin by changing into the <code>tamarin-prover</code> directory and typing</p>
<pre><code>  make default</code></pre></li>
</ol>
<p>The installation process informs you where the <code>tamarin-prover</code> executable will be installed, for example, in <code>~/.local/bin/</code>. Move the binary to a directory in your executables path or add <code>~/.local/bin/</code> to your path.</p>
<p>Continue as described in Section <a href="#sec:running-tamarin">Running Tamarin</a> to run Tamarin for the first time.</p>
<h2 id="sec:windows">Windows</h2>
<p>Windows is not currently supported. To the best of our knowledge, there is not a current GraphViz version available for Windows and there is no Maude binary for Windows 10. Therefore only the command-line parts of the tool are functional for Windows systems prior to Windows 10.</p>
<h2 id="sec:running-tamarin">Running Tamarin</h2>
<p>Starting <code>tamarin-prover</code> without arguments will output its help message, including the paths to the installed example protocol models and all case studies from published papers. We recommend opening the <a href="https://raw.githubusercontent.com/tamarin-prover/tamarin-prover/develop/examples/Tutorial.spthy">Tutorial.spthy</a> example file in a text editor and start exploring from there, or to continue reading this document. Note that the <code>Tutorial.spthy</code> file can be found in the <code>examples</code> directory of the Tamarin source.</p>
<p>Running <code>tamarin-prover test</code> will check the Maude and GraphViz versions and run some tests. Its output should be:</p>
<pre><code>$ tamarin-prover test
Self-testing the tamarin-prover installation.

*** Testing the availability of the required tools ***
maude tool: &#39;maude&#39;
 checking version: 2.7.1. OK.
 checking installation: OK.

GraphViz tool: &#39;dot&#39;
 checking version: dot - graphviz version 2.39.20150613.2112
                   (20150613.2112). OK.

*** Testing the unification infrastructure ***
Cases: 55  Tried: 55  Errors: 0  Failures: 0

*** TEST SUMMARY ***
All tests successful.
The tamarin-prover should work as intended.

           :-) happy proving (-:</code></pre>
<p>You are now ready to use Tamarin to verify cryptographic protocols.</p>
<h2 id="running-tamarin-on-a-remote-machine">Running Tamarin on a remote machine</h2>
<p>If you have access to a faster desktop or server, but prefer using Tamarin on your laptop, you can do that. The cpu/memory intensive reasoning part of the tool will then run on the faster machine, while you just run the GUI locally, i.e., the web browser of your choice. To do this, you forward your port 3001 to the port 3001 of your server with the following command, replacing <code>SERVERNAME</code> appropriately.</p>
<pre><code>ssh -L 3001:localhost:3001 SERVERNAME</code></pre>
<p>If you do this, we recommend that you run your Tamarin instance on the server in a <a href="https://www.gnu.org/software/screen/manual/screen.html">screen</a> environment, which will continue running even if the network drops your connection as you can later reconnect to it. Otherwise, any network failure may require you to restart Tamarin and start over on the proof.</p>
<h2 id="tamarin-code-editors">Tamarin Code Editors</h2>
<p>Under the <a href="https://github.com/tamarin-prover/tamarin-prover/tree/develop/etc">etc</a> folder contained in the Tamarin Prover project, plug-ins are available for VIM, Sublime Text 3 and Notepad++. Below we details the steps required to install your preferred plug-in.</p>
<h3 id="vim">VIM</h3>
<ol style="list-style-type: decimal">
<li>Create <code>~/.vim/</code> directory if not already existing, which is the typical location for <code>$VIMRUNTIME</code></li>
<li>Change directory to <code>~/.vim/</code></li>
<li>Place the <a href="https://github.com/tamarin-prover/tamarin-prover/blob/develop/etc/filetype.vim">filetype.vim</a> file</li>
<li>Create another directory <code>syntax</code> within <code>~/.vim/</code> directory and change directory to it.</li>
<li>Place the <a href="https://github.com/tamarin-prover/tamarin-prover/blob/develop/etc/spthy.vim">spthy.vim</a> and <a href="https://github.com/tamarin-prover/tamarin-prover/blob/develop/etc/sapic.vim">sapic.vim</a> files in <code>~/.vim/syntax</code></li>
</ol>
<h3 id="sublime-text-3">Sublime Text 3</h3>
<p><a href="http://jwhitefield.co.uk/TamarinAssist/">TamarinAssist</a> is a plug-in developed for the Sublime Text 3 editor. The plug-in has the following functionality: - Basic Syntaxes - Run Tamarin within Sublime - Snippets for Theory, Rule, Axiom and Lemma</p>
<p>TamarinAssist can be install in two ways:</p>
<p>The first and preferred method is with <a href="https://packagecontrol.io/">PackageControl.io</a>. TamarinAssist can now be installed via the sublime package manager. See the <a href="https://packagecontrol.io/installation">install</a> and <a href="https://packagecontrol.io/docs/usage">usage</a> documentation, then search and install TamarinAssist.</p>
<p>Alternatively it can be installed from source. For Linux / OS X this process can be followed. We assume you have the <code>git</code> tool installed.</p>
<ol style="list-style-type: decimal">
<li>Change Directory to Sublime Text packages directory:
<ul>
<li>Mac OS X: <code>cd ~/Library/Application\ Support/Sublime\ Text\ 3/Packages/</code></li>
<li>Linux: <code>~/.Sublime\ Text\ 3/Packages/</code></li>
</ul></li>
<li>Pull directory into Packages folder.
<ul>
<li>SSH: <code>git pull git@github.com:lordqwerty/TamarinAssist.git</code></li>
<li>HTTPS: <code>https://github.com/lordqwerty/TamarinAssist.git</code></li>
</ul></li>
<li>Open Sublime and bottom right syntaxes 'Tamarin' should be in the list.</li>
</ol>
<p><em>Please be aware that TamarinAssist is still under active development and as such, several of the features are still implemented in a prototypical manner. If you experience any problems or have any questions on running any parts of the plug-in please <a href="https://github.com/lordqwerty/TamarinAssist/">visit the project GitHub page</a>.</em></p>
<h3 id="notepad">Notepad++</h3>
<p>Follow steps from the <a href="http://docs.notepad-plus-plus.org/index.php/User_Defined_Language_Files#How_to_install_user_defined_language_files">Notepad++ Wiki</a> using the <a href="https://github.com/tamarin-prover/tamarin-prover/blob/develop/etc/notepad_plus_plus_spthy.xml">notepad_plus_plus_spthy.xml</a> file.</p>
    </div>
  </div>
</body>
</html>
